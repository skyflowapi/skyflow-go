// Code generated by Fern. DO NOT EDIT.

package api

import (
	json "encoding/json"
	fmt "fmt"
	internal "github.com/skyflowapi/skyflow-go/v2/internal/generated/internal"
)

type DetectGuardrailsRequest struct {
	// Text to check against guardrails.
	Text string `json:"text" url:"-"`
	// If `true`, checks for toxicity in the text.
	CheckToxicity *bool `json:"check_toxicity,omitempty" url:"-"`
	// List of topics to deny.
	DenyTopics []string `json:"deny_topics,omitempty" url:"-"`
	// ID of the vault.
	VaultId string `json:"vault_id" url:"-"`
}

type DetectGuardrailsResponse struct {
	// Text that was checked against guardrails.
	Text string `json:"text" url:"text"`
	// Whether the text is toxic.
	Toxic *bool `json:"toxic,omitempty" url:"toxic,omitempty"`
	// Whether the text included a denied topic.
	DeniedTopic *bool `json:"denied_topic,omitempty" url:"denied_topic,omitempty"`
	// Whether the text passed validation.
	Validation DetectGuardrailsResponseValidation `json:"validation" url:"validation"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (d *DetectGuardrailsResponse) GetText() string {
	if d == nil {
		return ""
	}
	return d.Text
}

func (d *DetectGuardrailsResponse) GetToxic() *bool {
	if d == nil {
		return nil
	}
	return d.Toxic
}

func (d *DetectGuardrailsResponse) GetDeniedTopic() *bool {
	if d == nil {
		return nil
	}
	return d.DeniedTopic
}

func (d *DetectGuardrailsResponse) GetValidation() DetectGuardrailsResponseValidation {
	if d == nil {
		return ""
	}
	return d.Validation
}

func (d *DetectGuardrailsResponse) GetExtraProperties() map[string]interface{} {
	return d.extraProperties
}

func (d *DetectGuardrailsResponse) UnmarshalJSON(data []byte) error {
	type unmarshaler DetectGuardrailsResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*d = DetectGuardrailsResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *d)
	if err != nil {
		return err
	}
	d.extraProperties = extraProperties
	d.rawJSON = json.RawMessage(data)
	return nil
}

func (d *DetectGuardrailsResponse) String() string {
	if len(d.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(d.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(d); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", d)
}

// Whether the text passed validation.
type DetectGuardrailsResponseValidation string

const (
	DetectGuardrailsResponseValidationFailed DetectGuardrailsResponseValidation = "failed"
	DetectGuardrailsResponseValidationPassed DetectGuardrailsResponseValidation = "passed"
)

func NewDetectGuardrailsResponseValidationFromString(s string) (DetectGuardrailsResponseValidation, error) {
	switch s {
	case "failed":
		return DetectGuardrailsResponseValidationFailed, nil
	case "passed":
		return DetectGuardrailsResponseValidationPassed, nil
	}
	var t DetectGuardrailsResponseValidation
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (d DetectGuardrailsResponseValidation) Ptr() *DetectGuardrailsResponseValidation {
	return &d
}
